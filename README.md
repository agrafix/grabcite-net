# Grabcite NET

This repository contains multiple ideas and implementations for citation recommendation. In this README we explain how to use the pipeline.

## Setup

We require `Python 3.6.1` for these tools to run.

First, we need to install some python dependencies:

```bash
pip3 install keras nltk matplotlib numpy TextBlob gensim tqdm sklearn tensorflow flask
```

Now we can run the scripts.

## How to use

### Prepare Data

1. Use [GrabCite](https://github.com/agrafix/grabcite) to prepare your data set. Follow the instructions of the README of that repository.
2. Adjust `config.py`, make `data_glob` capture your data set generated by GrabCite. For example, if your data set is in `/home/athiemann/ds`, then write `data_glob = "/home/athiemann/ds/*.txt"`. If you which to use GloVe word embeddings, download them from [GloVe](https://nlp.stanford.edu/projects/glove/) and point `glove_path` to it and set `glove_dim` according to which data set you have downloaded from GloVe.
3. Run `python3 prepare_data.py`

### Statistics and visualization of data

To visualize the data set and obtain some metrics, run `python3 vis.py`. The program will output which directory all data is written to.

### Training

To train the binary classifier, run `python3 net.py`. The training is very slow and benefits from a GPU. The current repository defaults to using pretained GloVe vectors, to change that find `# Load word vectors` in `net.py` and remove these lines. Also change `cit_nocit_rnn_pretrained` to `cit_nocit_rnn` and remove the last two parameters. In `arch.py` are other network architectures that you can try out.

To train the LSI, run `python3 recommender_lsi.py`. You can adjust `num_factors` if you would like to model a different amout of topics.

### Evaluation

To evaluate the binary classifier, run `python3 evaluate_perf.py`. This will output the confusion matrix as well as some false positive examples.

To evaluate the LSI, run `python3 recommender_lsi_evaluate.py`. This outputs match statistics and MRR for Top-`K` where `K` is `[1, 5, 10, 25, 50]`

### How to use (web frontend)

After having run the training step, you can also launch the web frontend. This is done by `FLASK_APP=web_frontend.py python3 -m flask run` and then pointing your web browser at the shown port.
